---
title: 基础概念
date: 2024-12-03
---

在正式学习源码之前，需要了解一些vue的基础概念，能够帮助我们加深对vue的理解

比如编程范式，运行时，编译时，运行时 + 编译时

# 1. 编程范式

目前编程范式主要分为两种：

- 命令式编程
- 声明式编程

## 命令式编程

什么叫命令式编程呢？

举一个生活中的例子，每天下班后吃饭的问题，可能会存在两种情况

1. 自己做
2. 别人做（去餐馆 或者点外卖）

如果是自己做的话，你是不是得先经历一系列过程，比如：

1. 买菜
2. 洗菜
3. 切菜
4. 炒菜
...

最后才能吃上饭

如果是让别人做的话，你只需要告诉别人你想吃什么，然后等着吃就可以了。

这个例子其实就是命令式编程与声明式编程的区别。

所谓命令式编程，就是详细描述做事的过程，核心在于：**关注过程，而不是关注结果**。

## 声明式编程

那什么叫声明式编程呢？

对应上面的第二种情况，别人做，你只需要告诉别人你想要吃什么，而不需要关心具体的过程，这就是声明式编程。

所谓声明式编程就是：**不关注过程，只关注结果**的一种编程方式。

接下来用代码说明一下，假设现在有这样一个需求：

> 为指定div的子元素div的子元素p标签，展示变量msg

通过命令式完成代码如下：

```js
// 1. 获取到第一层的 div
const divEle = document.querySelector("#app");
// 2. 获取到它的子 div
const subDivEle = divEle.querySelector("div");
// 3. 获取第三层的 p
const pEle = subDivEle.querySelector("p");
// 4. 定义变量 msg
const msg = 'Hello world';
// 5. 设置 p 标签的文本内容
pEle.innerHTML = msg;
```

通过命令式编程，我们需要先获取到元素，然后才能操作它，代码比较冗长。

而通过声明式编程，我们可以直接在HTML中定义好，当变量msg发生改变时，p标签的内容也会跟着改变。

```html
<div id="app">
    <div>
        <p>{{ msg }}</p>
    </div>
</div>
```

上面的代码是不是非常熟悉，这不是就是vue里面的模板语法嘛，所以我们平时写vue代码的时候一直都是声明式编程。

## 命令式编程与声明式编程的对比

从上面的例子可以看出，命令式编程和声明式编程的区别

- 命令式编程：**关注过程，而不是关注结果**。
- 声明式编程：**不关注过程，只关注结果**。

两种编程方式那种好呢，为什么vue选择的是声明式编程呢？

我们从以下两个方面来比较以下两个编程范式

1. 性能
2. 可维护性

### 性能

假设我们给指定div设置文本

命令式编程实现就是：

```js
div.innerHTML = 'Hello world';
```

上面的实现方式是最简单的了，假设上面耗时为1

而声明式编程：

```js
<div>{{ msg }}</div>
```

声明式编程的耗时是一定大于1的，因为还存在将msg修改为Hello world的时间，**耗时越短，性能越强**

所以从性能的角度出发，命令式编程是优于声明式编程的。

### 可维护性

所谓可维护性其实就是对代码的增删改和阅读，直观感受上来说，声明式编程更加的简洁和优雅，在未
来也能更好的维护。

尤其是在一个大项目的开发中，代码量和复杂度都是非常大的，所以从可维护性的角度出发，声明式编程是优于命令式编程的。

那为什么vue最终选择了声明式编程呢？虽然性能上来说，命令式编程更甚一筹，但是从可维护性和开发效率上来说，声明式编程更优。

这其实就是一个取舍的过程，框架设计从来都是一个不断取舍的过程，根据实际情况，选择最合适的方案。


